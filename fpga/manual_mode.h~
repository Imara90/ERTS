

#define ENGINE_LIMIT 800
#define LIFT_CONVERSION ENGINE_LIMIT/254
#define ROLLPITCHYAW_CONVERSION ENGINE_LIMIT/127
void manual_mode() {
int i;
//INITIALIZATION
for (i = 0; i < 4; i++)
{
	ae[i] = 0;
}

//ROLL
	if((char) roll>=0) {
		ae[3]=(roll - 127)*ROLLPITCHYAW_CONVERSION;
	}
	else {
		ae[1]=-(roll - 127)*ROLLPITCHYAW_CONVERSION;
	}

//PITCH
if((char) pitch>=0) {
		ae[0]=(pitch - 127)*ROLLPITCHYAW_CONVERSION;
	}
	else {
		ae[2]=-(pitch - 127)*ROLLPITCHYAW_CONVERSION;
	}

//YAW
if((char) yaw>=0) {
	ae[0]+=(yaw - 127)*ROLLPITCHYAW_CONVERSION;
	ae[2]+=(yaw - 127)*ROLLPITCHYAW_CONVERSION;
}
else {
	ae[1]+=-(yaw - 127)*ROLLPITCHYAW_CONVERSION;
	ae[3]+=-(yaw - 127)*ROLLPITCHYAW_CONVERSION;
}
//LIFT
for(i = 0; i < 4; i++) {

	ae[i] += lift * LIFT_CONVERSION;
	if(ae[i]>ENGINE_LIMIT) {
		ae[i]=ENGINE_LIMIT;
	}

}
}

